<?php 
	
	date_default_timezone_set("Europe/London");

	$mysqli = new mysqli("127.0.0.1","theaudit_dbuser","pwdzat791","theaudit_audition");
	if ($mysqli -> connect_errno) {
	  echo "Failed to connect to MySQL:".$mysqli->connect_error;
	  exit();
	}

	$x = '[{"GroupId":2,"GroupName":"EAST OF ENGLAND","GroupOrder":1,"CityOrderWithinGroup":0,"Id":2000,"Name":"All in East Of England"},{"GroupId":2,"GroupName":"EAST OF ENGLAND","GroupOrder":1,"CityOrderWithinGroup":1,"Id":1,"Name":"Bury St. Edmunds"},{"GroupId":2,"GroupName":"EAST OF ENGLAND","GroupOrder":1,"CityOrderWithinGroup":1,"Id":2,"Name":"Cambridge"},{"GroupId":2,"GroupName":"EAST OF ENGLAND","GroupOrder":1,"CityOrderWithinGroup":1,"Id":5,"Name":"Ipswich"},{"GroupId":2,"GroupName":"EAST OF ENGLAND","GroupOrder":1,"CityOrderWithinGroup":1,"Id":6,"Name":"Lowestoft"},{"GroupId":2,"GroupName":"EAST OF ENGLAND","GroupOrder":1,"CityOrderWithinGroup":1,"Id":7,"Name":"Norwich"},{"GroupId":2,"GroupName":"EAST OF ENGLAND","GroupOrder":1,"CityOrderWithinGroup":1,"Id":8,"Name":"Peterborough"},{"GroupId":3,"GroupName":"GREATER LONDON","GroupOrder":1,"CityOrderWithinGroup":0,"Id":3000,"Name":"All in Greater London"},{"GroupId":3,"GroupName":"GREATER LONDON","GroupOrder":1,"CityOrderWithinGroup":1,"Id":151,"Name":"London - NE"},{"GroupId":3,"GroupName":"GREATER LONDON","GroupOrder":1,"CityOrderWithinGroup":1,"Id":152,"Name":"London - NW"},{"GroupId":3,"GroupName":"GREATER LONDON","GroupOrder":1,"CityOrderWithinGroup":1,"Id":153,"Name":"London - SE"},{"GroupId":3,"GroupName":"GREATER LONDON","GroupOrder":1,"CityOrderWithinGroup":1,"Id":154,"Name":"London - SW"},{"GroupId":4,"GroupName":"MIDLANDS","GroupOrder":1,"CityOrderWithinGroup":0,"Id":4000,"Name":"All in Midlands"},{"GroupId":4,"GroupName":"MIDLANDS","GroupOrder":1,"CityOrderWithinGroup":1,"Id":9,"Name":"Birmingham"},{"GroupId":4,"GroupName":"MIDLANDS","GroupOrder":1,"CityOrderWithinGroup":1,"Id":11,"Name":"Coventry"},{"GroupId":4,"GroupName":"MIDLANDS","GroupOrder":1,"CityOrderWithinGroup":1,"Id":12,"Name":"Derby"},{"GroupId":4,"GroupName":"MIDLANDS","GroupOrder":1,"CityOrderWithinGroup":1,"Id":157,"Name":"Grimsby"},{"GroupId":4,"GroupName":"MIDLANDS","GroupOrder":1,"CityOrderWithinGroup":1,"Id":13,"Name":"Hereford"},{"GroupId":4,"GroupName":"MIDLANDS","GroupOrder":1,"CityOrderWithinGroup":1,"Id":15,"Name":"Leicester"},{"GroupId":4,"GroupName":"MIDLANDS","GroupOrder":1,"CityOrderWithinGroup":1,"Id":16,"Name":"Lincoln"},{"GroupId":4,"GroupName":"MIDLANDS","GroupOrder":1,"CityOrderWithinGroup":1,"Id":18,"Name":"Northampton"},{"GroupId":4,"GroupName":"MIDLANDS","GroupOrder":1,"CityOrderWithinGroup":1,"Id":19,"Name":"Nottingham"},{"GroupId":4,"GroupName":"MIDLANDS","GroupOrder":1,"CityOrderWithinGroup":1,"Id":22,"Name":"Shrewsbury"},{"GroupId":4,"GroupName":"MIDLANDS","GroupOrder":1,"CityOrderWithinGroup":1,"Id":23,"Name":"Stafford"},{"GroupId":4,"GroupName":"MIDLANDS","GroupOrder":1,"CityOrderWithinGroup":1,"Id":24,"Name":"Stoke On Trent"},{"GroupId":4,"GroupName":"MIDLANDS","GroupOrder":1,"CityOrderWithinGroup":1,"Id":28,"Name":"Wolverhampton"},{"GroupId":4,"GroupName":"MIDLANDS","GroupOrder":1,"CityOrderWithinGroup":1,"Id":155,"Name":"Worcester"},{"GroupId":5,"GroupName":"NATIONAL","GroupOrder":5,"CityOrderWithinGroup":1,"Id":160,"Name":"National"},{"GroupId":6,"GroupName":"NORTHEAST","GroupOrder":1,"CityOrderWithinGroup":0,"Id":6000,"Name":"All in Northeast"},{"GroupId":6,"GroupName":"NORTHEAST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":29,"Name":"Berwick Upon Tweed"},{"GroupId":6,"GroupName":"NORTHEAST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":156,"Name":"Durham"},{"GroupId":6,"GroupName":"NORTHEAST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":32,"Name":"Middlesbrough"},{"GroupId":6,"GroupName":"NORTHEAST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":33,"Name":"Newcastle"},{"GroupId":6,"GroupName":"NORTHEAST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":37,"Name":"Sunderland"},{"GroupId":11,"GroupName":"NORTHERN IRELAND","GroupOrder":2,"CityOrderWithinGroup":0,"Id":11000,"Name":"All in Northern Ireland"},{"GroupId":11,"GroupName":"NORTHERN IRELAND","GroupOrder":2,"CityOrderWithinGroup":1,"Id":162,"Name":"Armagh"},{"GroupId":11,"GroupName":"NORTHERN IRELAND","GroupOrder":2,"CityOrderWithinGroup":1,"Id":120,"Name":"Belfast"},{"GroupId":11,"GroupName":"NORTHERN IRELAND","GroupOrder":2,"CityOrderWithinGroup":1,"Id":121,"Name":"Coleraine"},{"GroupId":11,"GroupName":"NORTHERN IRELAND","GroupOrder":2,"CityOrderWithinGroup":1,"Id":122,"Name":"Derry"},{"GroupId":11,"GroupName":"NORTHERN IRELAND","GroupOrder":2,"CityOrderWithinGroup":1,"Id":123,"Name":"Enniskillen"},{"GroupId":11,"GroupName":"NORTHERN IRELAND","GroupOrder":2,"CityOrderWithinGroup":1,"Id":124,"Name":"Larne"},{"GroupId":11,"GroupName":"NORTHERN IRELAND","GroupOrder":2,"CityOrderWithinGroup":1,"Id":125,"Name":"Omagh"},{"GroupId":7,"GroupName":"NORTHWEST","GroupOrder":1,"CityOrderWithinGroup":0,"Id":7000,"Name":"All in Northwest"},{"GroupId":7,"GroupName":"NORTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":38,"Name":"Barrow In Furness"},{"GroupId":7,"GroupName":"NORTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":40,"Name":"Blackpool"},{"GroupId":7,"GroupName":"NORTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":42,"Name":"Carlisle"},{"GroupId":7,"GroupName":"NORTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":43,"Name":"Chester"},{"GroupId":7,"GroupName":"NORTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":45,"Name":"Douglas (Isle Of Man)"},{"GroupId":7,"GroupName":"NORTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":46,"Name":"Kendal"},{"GroupId":7,"GroupName":"NORTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":47,"Name":"Lancaster"},{"GroupId":7,"GroupName":"NORTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":48,"Name":"Liverpool"},{"GroupId":7,"GroupName":"NORTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":49,"Name":"Manchester"},{"GroupId":7,"GroupName":"NORTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":51,"Name":"Preston"},{"GroupId":7,"GroupName":"NORTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":158,"Name":"Workington"},{"GroupId":14,"GroupName":"OVERSEAS","GroupOrder":6,"CityOrderWithinGroup":1,"Id":164,"Name":"Overseas"},{"GroupId":12,"GroupName":"SCOTLAND","GroupOrder":3,"CityOrderWithinGroup":1,"Id":127,"Name":"Aberdeen"},{"GroupId":12,"GroupName":"SCOTLAND","GroupOrder":3,"CityOrderWithinGroup":0,"Id":12000,"Name":"All in Scotland"},{"GroupId":12,"GroupName":"SCOTLAND","GroupOrder":3,"CityOrderWithinGroup":1,"Id":129,"Name":"Ayr"},{"GroupId":12,"GroupName":"SCOTLAND","GroupOrder":3,"CityOrderWithinGroup":1,"Id":130,"Name":"Dumfries"},{"GroupId":12,"GroupName":"SCOTLAND","GroupOrder":3,"CityOrderWithinGroup":1,"Id":131,"Name":"Dundee"},{"GroupId":12,"GroupName":"SCOTLAND","GroupOrder":3,"CityOrderWithinGroup":1,"Id":133,"Name":"Edinburgh"},{"GroupId":12,"GroupName":"SCOTLAND","GroupOrder":3,"CityOrderWithinGroup":1,"Id":135,"Name":"Glasgow"},{"GroupId":12,"GroupName":"SCOTLAND","GroupOrder":3,"CityOrderWithinGroup":1,"Id":136,"Name":"Highlands & Islands"},{"GroupId":12,"GroupName":"SCOTLAND","GroupOrder":3,"CityOrderWithinGroup":1,"Id":137,"Name":"Inverness"},{"GroupId":12,"GroupName":"SCOTLAND","GroupOrder":3,"CityOrderWithinGroup":1,"Id":138,"Name":"Perth"},{"GroupId":8,"GroupName":"SOUTHEAST","GroupOrder":1,"CityOrderWithinGroup":0,"Id":8000,"Name":"All in Southeast"},{"GroupId":8,"GroupName":"SOUTHEAST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":56,"Name":"Brighton"},{"GroupId":8,"GroupName":"SOUTHEAST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":57,"Name":"Canterbury"},{"GroupId":8,"GroupName":"SOUTHEAST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":159,"Name":"Chelmsford"},{"GroupId":8,"GroupName":"SOUTHEAST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":58,"Name":"Colchester"},{"GroupId":8,"GroupName":"SOUTHEAST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":64,"Name":"Guildford"},{"GroupId":8,"GroupName":"SOUTHEAST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":65,"Name":"Hastings"},{"GroupId":8,"GroupName":"SOUTHEAST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":67,"Name":"High Wycombe"},{"GroupId":8,"GroupName":"SOUTHEAST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":68,"Name":"Luton"},{"GroupId":8,"GroupName":"SOUTHEAST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":70,"Name":"Maidstone"},{"GroupId":8,"GroupName":"SOUTHEAST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":71,"Name":"Milton Keynes"},{"GroupId":8,"GroupName":"SOUTHEAST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":72,"Name":"Oxford"},{"GroupId":8,"GroupName":"SOUTHEAST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":73,"Name":"Portsmouth"},{"GroupId":8,"GroupName":"SOUTHEAST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":74,"Name":"Reading"},{"GroupId":8,"GroupName":"SOUTHEAST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":76,"Name":"Southend On Sea"},{"GroupId":8,"GroupName":"SOUTHEAST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":78,"Name":"Stevenage"},{"GroupId":8,"GroupName":"SOUTHEAST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":79,"Name":"Tunbridge Wells"},{"GroupId":9,"GroupName":"SOUTHWEST","GroupOrder":1,"CityOrderWithinGroup":0,"Id":9000,"Name":"All in Southwest"},{"GroupId":9,"GroupName":"SOUTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":83,"Name":"Bath"},{"GroupId":9,"GroupName":"SOUTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":84,"Name":"Bournemouth"},{"GroupId":9,"GroupName":"SOUTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":86,"Name":"Bristol"},{"GroupId":9,"GroupName":"SOUTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":161,"Name":"Channel Islands"},{"GroupId":9,"GroupName":"SOUTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":87,"Name":"Cheltenham"},{"GroupId":9,"GroupName":"SOUTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":89,"Name":"Exeter"},{"GroupId":9,"GroupName":"SOUTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":90,"Name":"Gloucester"},{"GroupId":9,"GroupName":"SOUTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":91,"Name":"Ilfracombe"},{"GroupId":9,"GroupName":"SOUTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":92,"Name":"Newport (Isle Of Wight)"},{"GroupId":9,"GroupName":"SOUTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":93,"Name":"Newquay"},{"GroupId":9,"GroupName":"SOUTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":94,"Name":"Penzance"},{"GroupId":9,"GroupName":"SOUTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":95,"Name":"Plymouth"},{"GroupId":9,"GroupName":"SOUTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":96,"Name":"Salisbury"},{"GroupId":9,"GroupName":"SOUTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":97,"Name":"Southampton"},{"GroupId":9,"GroupName":"SOUTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":100,"Name":"Swindon"},{"GroupId":9,"GroupName":"SOUTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":101,"Name":"Taunton"},{"GroupId":9,"GroupName":"SOUTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":102,"Name":"Torquay"},{"GroupId":9,"GroupName":"SOUTHWEST","GroupOrder":1,"CityOrderWithinGroup":1,"Id":104,"Name":"Weymouth"},{"GroupId":13,"GroupName":"WALES","GroupOrder":4,"CityOrderWithinGroup":1,"Id":141,"Name":"Aberystwyth"},{"GroupId":13,"GroupName":"WALES","GroupOrder":4,"CityOrderWithinGroup":0,"Id":13000,"Name":"All in Wales"},{"GroupId":13,"GroupName":"WALES","GroupOrder":4,"CityOrderWithinGroup":1,"Id":119,"Name":"Bangor"},{"GroupId":13,"GroupName":"WALES","GroupOrder":4,"CityOrderWithinGroup":1,"Id":142,"Name":"Cardiff"},{"GroupId":13,"GroupName":"WALES","GroupOrder":4,"CityOrderWithinGroup":1,"Id":144,"Name":"Holyhead"},{"GroupId":13,"GroupName":"WALES","GroupOrder":4,"CityOrderWithinGroup":1,"Id":145,"Name":"Merthyr Tydfil"},{"GroupId":13,"GroupName":"WALES","GroupOrder":4,"CityOrderWithinGroup":1,"Id":146,"Name":"Newport"},{"GroupId":13,"GroupName":"WALES","GroupOrder":4,"CityOrderWithinGroup":1,"Id":147,"Name":"Pembroke"},{"GroupId":13,"GroupName":"WALES","GroupOrder":4,"CityOrderWithinGroup":1,"Id":148,"Name":"Rhyl"},{"GroupId":13,"GroupName":"WALES","GroupOrder":4,"CityOrderWithinGroup":1,"Id":149,"Name":"Swansea"},{"GroupId":13,"GroupName":"WALES","GroupOrder":4,"CityOrderWithinGroup":1,"Id":150,"Name":"Wrexham"},{"GroupId":10,"GroupName":"YORKSHIRE","GroupOrder":1,"CityOrderWithinGroup":0,"Id":10000,"Name":"All in Yorkshire"},{"GroupId":10,"GroupName":"YORKSHIRE","GroupOrder":1,"CityOrderWithinGroup":1,"Id":106,"Name":"Bradford"},{"GroupId":10,"GroupName":"YORKSHIRE","GroupOrder":1,"CityOrderWithinGroup":1,"Id":108,"Name":"Doncaster"},{"GroupId":10,"GroupName":"YORKSHIRE","GroupOrder":1,"CityOrderWithinGroup":1,"Id":112,"Name":"Hull"},{"GroupId":10,"GroupName":"YORKSHIRE","GroupOrder":1,"CityOrderWithinGroup":1,"Id":113,"Name":"Leeds"},{"GroupId":10,"GroupName":"YORKSHIRE","GroupOrder":1,"CityOrderWithinGroup":1,"Id":115,"Name":"Scarborough"},{"GroupId":10,"GroupName":"YORKSHIRE","GroupOrder":1,"CityOrderWithinGroup":1,"Id":116,"Name":"Sheffield"},{"GroupId":10,"GroupName":"YORKSHIRE","GroupOrder":1,"CityOrderWithinGroup":1,"Id":117,"Name":"Wakefield"},{"GroupId":10,"GroupName":"YORKSHIRE","GroupOrder":1,"CityOrderWithinGroup":1,"Id":118,"Name":"York"}]';


	$y = json_decode($x, TRUE);
	$z = $y;

	foreach ($z as $key => $value) {

		$checkQuery = 'SELECT * FROM aud_industry_contact_regions WHERE region_id="'.$value['GroupId'].'"';
        $check = mysqli_query($mysqli, $checkQuery);
        if(mysqli_num_rows($check) == 0){

        	$sql = "INSERT INTO aud_industry_contact_regions (region_id, name)
        	VALUES ('".$value['GroupId']."', '".$value['GroupName']."')";
        	
        	if ($mysqli->query($sql) === TRUE) {
        	  
        	}else {
        	  echo "Insert Error: Group For:: " .$value['GroupId'].' :: '. $sql . "<br>" . $mysqli->error;
        	}
        }
		$checkQuery = 'SELECT * FROM aud_industry_contact_cities WHERE city_id="'.$value['Id'].'"';
        $check = mysqli_query($mysqli, $checkQuery);
        if(mysqli_num_rows($check) == 0){

        	$sql = "INSERT INTO aud_industry_contact_cities (city_id, group_id, name, group_name)
        	VALUES ('".$value['Id']."', '".$value['GroupId']."', '".$value['Name']."', '".$value['GroupName']."')";
        	
        	if ($mysqli->query($sql) === TRUE) {
        	  
        	}else {
        	  echo "Insert Error: City For:: " .$value['Id'].' :: '. $sql . "<br>" . $mysqli->error;
        	}
        }
	
	}

	echo 'done';exit;

?>